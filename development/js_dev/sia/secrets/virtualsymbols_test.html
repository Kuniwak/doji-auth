<!DOCTYPE html>
<!-- This script licensed under the MIT. -->
<!-- http://orgachem.mit-license.org     -->
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Closure Unit Tests - sia.secrets.VirtualSymbol</title>
<script src="../../../../closure-library/closure/goog/base.js"></script>
<script src="../../deps.js" type="text/javascript"></script>
<script>
  goog.require('sia.secrets.CombinationalSymbols');
  goog.require('goog.structs.Map');
  goog.require('goog.structs.Set');
  goog.require('goog.testing.jsunit');
</script>
</head>
<body>
<script>
  function testResolveOneVirtualSymbolWithOneNumber() {
    var set, mapA, mapB;
    
    set = new goog.structs.Set();
    set.add('0');
    set.add(sia.secrets.VirtualSymbol.LARGE);
    mapA = sia.secrets.resolveSet(set);
    mapB = new goog.structs.Map()
    mapB.set('0', 2);
    mapB.set('*', 0);
    console.log(mapA, mapB)
    assertTrue(mapA.equals(mapB));


    set = new goog.structs.Set();
    set.add('0');
    set.add(sia.secrets.VirtualSymbol.MEDIUM);
    mapA = sia.secrets.resolveSet(set);
    mapB = new goog.structs.Map()
    mapB.set('0', 2);
    mapB.set('*', 0);
    assertTrue(mapA.equals(mapB));


    set = new goog.structs.Set();
    set.add('0');
    set.add(sia.secrets.VirtualSymbol.SMALL);
    mapA = sia.secrets.resolveSet(set);
    mapB = new goog.structs.Map()
    mapB.set('0', 2);
    mapB.set('*', 0);
    assertTrue(mapA.equals(mapB));
  }

  function testResolveTwoVirtualSymbolsWithOneNumber() {
    var set, mapA, mapB;
    
    set = new goog.structs.Set();
    set.add('0');
    set.add(sia.secrets.VirtualSymbol.LARGE);
    set.add(sia.secrets.VirtualSymbol.MEDIUM);
    mapA = sia.secrets.resolveSet(set);
    mapB = new goog.structs.Map()
    mapB.set('0', 3);
    mapB.set('*', 0);
    assertTrue(mapA.equals(mapB));

    set = new goog.structs.Set();
    set.add('0');
    set.add(sia.secrets.VirtualSymbol.MEDIUM);
    set.add(sia.secrets.VirtualSymbol.SMALL);
    mapA = sia.secrets.resolveSet(set);
    mapB = new goog.structs.Map()
    mapB.set('0', 3);
    mapB.set('*', 0);
    assertTrue(mapA.equals(mapB));

    set = new goog.structs.Set();
    set.add('0');
    set.add(sia.secrets.VirtualSymbol.LARGE);
    set.add(sia.secrets.VirtualSymbol.SMALL);
    mapA = sia.secrets.resolveSet(set);
    mapB = new goog.structs.Map()
    mapB.set('0', 3);
    mapB.set('*', 0);
    assertTrue(mapA.equals(mapB));
  }

  function testResolveThreeVirtualSymbolsWithOneNumber() {
    var set, mapA, mapB;
    
    set = new goog.structs.Set();
    set.add('0');
    set.add(sia.secrets.VirtualSymbol.LARGE);
    set.add(sia.secrets.VirtualSymbol.MEDIUM);
    set.add(sia.secrets.VirtualSymbol.SMALL);
    mapA = sia.secrets.resolveSet(set);
    mapB = new goog.structs.Map()
    mapB.set('0', 4);
    mapB.set('*', 0);
    assertTrue(mapA.equals(mapB));
  }

  function testResolveOneVirtualSymbolWithTwoNumbers() {
    var set, mapA, mapB;
    
    set = new goog.structs.Set();
    set.add('4');
    set.add('5');
    set.add(sia.secrets.VirtualSymbol.LARGE);
    mapA = sia.secrets.resolveSet(set);
    mapB = new goog.structs.Map()
    mapB.set('4', 1);
    mapB.set('5', 2);
    mapB.set('*', 0);
    assertTrue(mapA.equals(mapB));

    set = new goog.structs.Set();
    set.add('4');
    set.add('5');
    set.add(sia.secrets.VirtualSymbol.MEDIUM);
    mapA = sia.secrets.resolveSet(set);
    mapB = new goog.structs.Map()
    mapB.set('4', 2);
    mapB.set('5', 1);
    mapB.set('*', 0);
    assertTrue(mapA.equals(mapB));
    
    set = new goog.structs.Set();
    set.add('4');
    set.add('5');
    set.add(sia.secrets.VirtualSymbol.SMALL);
    mapA = sia.secrets.resolveSet(set);
    mapB = new goog.structs.Map()
    mapB.set('4', 2);
    mapB.set('5', 1);
    mapB.set('*', 0);
    assertTrue(mapA.equals(mapB));
  }

  function testResolveTwoVirtualSymbolsWithTwoNumbers() {
    var set, mapA, mapB;
    
    set = new goog.structs.Set();
    set.add('4');
    set.add('5');
    set.add(sia.secrets.VirtualSymbol.LARGE);
    set.add(sia.secrets.VirtualSymbol.MEDIUM);
    mapA = sia.secrets.resolveSet(set);
    mapB = new goog.structs.Map()
    mapB.set('4', 1);
    mapB.set('5', 3);
    mapB.set('*', 0);
    assertTrue(mapA.equals(mapB));

    set = new goog.structs.Set();
    set.add('4');
    set.add('5');
    set.add(sia.secrets.VirtualSymbol.MEDIUM);
    set.add(sia.secrets.VirtualSymbol.SMALL);
    mapA = sia.secrets.resolveSet(set);
    mapB = new goog.structs.Map()
    mapB.set('4', 3);
    mapB.set('5', 1);
    mapB.set('*', 0);
    assertTrue(mapA.equals(mapB));
    
    set = new goog.structs.Set();
    set.add('4');
    set.add('5');
    set.add(sia.secrets.VirtualSymbol.SMALL);
    set.add(sia.secrets.VirtualSymbol.LARGE);
    mapA = sia.secrets.resolveSet(set);
    mapB = new goog.structs.Map()
    mapB.set('4', 2);
    mapB.set('5', 2);
    mapB.set('*', 0);
    assertTrue(mapA.equals(mapB));
  }

  function testResolveOneVirtualSymbolWithThreeNumbers() {
    var set, mapA, mapB;
    
    set = new goog.structs.Set();
    set.add('0');
    set.add('1');
    set.add('9');
    set.add(sia.secrets.VirtualSymbol.LARGE);
    mapA = sia.secrets.resolveSet(set);
    mapB = new goog.structs.Map()
    mapB.set('0', 1);
    mapB.set('1', 1);
    mapB.set('9', 2);
    mapB.set('*', 0);
    assertTrue(mapA.equals(mapB));

    set = new goog.structs.Set();
    set.add('0');
    set.add('1');
    set.add('9');
    set.add(sia.secrets.VirtualSymbol.MEDIUM);
    mapA = sia.secrets.resolveSet(set);
    mapB = new goog.structs.Map()
    mapB.set('0', 1);
    mapB.set('1', 2);
    mapB.set('9', 1);
    mapB.set('*', 0);
    assertTrue(mapA.equals(mapB));
    
    set = new goog.structs.Set();
    set.add('0');
    set.add('1');
    set.add('9');
    set.add(sia.secrets.VirtualSymbol.SMALL);
    mapA = sia.secrets.resolveSet(set);
    mapB = new goog.structs.Map()
    mapB.set('0', 2);
    mapB.set('1', 1);
    mapB.set('9', 1);
    mapB.set('*', 0);
    assertTrue(mapA.equals(mapB));
  }

</script>
</body>
</html>
